"use strict";(self["webpackChunkthe9art"]=self["webpackChunkthe9art"]||[]).push([[676],{5676:function(t,o,r){r.r(o),r.d(o,{default:function(){return l}});var e=function(){var t=this,o=t._self._c;return o("div",{staticClass:"forgetPassword"},[o("Form",{ref:"formCustom",attrs:{model:t.formData,rules:t.rule,"label-width":140}},[o("FormItem",{attrs:{label:"邮箱",prop:"account"}},[o("Input",{attrs:{type:"text",placeholder:"请输入注册邮箱"},model:{value:t.formData.account,callback:function(o){t.$set(t.formData,"account",o)},expression:"formData.account"}})],1),o("FormItem",{staticClass:"verificationCode",attrs:{prop:"verificationCode"}},[o("Row",[o("Col",{attrs:{span:"8"}},[o("Input",{attrs:{type:"text"},model:{value:t.formData.verificationCode,callback:function(o){t.$set(t.formData,"verificationCode",o)},expression:"formData.verificationCode"}})],1),o("Col",{attrs:{span:"14"}},[t.hasSencode?o("Button",{staticClass:"button countDown"},[t._v(t._s(t.countDown)+"s后再获取")]):o("Button",{staticClass:"button",on:{click:t.getVerificationCode}},[t._v("获取验证码")])],1)],1)],1),o("FormItem",{attrs:{label:"新密码",prop:"password"}},[o("Input",{attrs:{type:"password"},model:{value:t.formData.password,callback:function(o){t.$set(t.formData,"password",o)},expression:"formData.password"}})],1),o("FormItem",{attrs:{label:"确认新密码",prop:"confirmPassword"}},[o("Input",{attrs:{type:"password"},model:{value:t.formData.confirmPassword,callback:function(o){t.$set(t.formData,"confirmPassword",o)},expression:"formData.confirmPassword"}})],1),o("FormItem",[o("Button",{staticClass:"loginbtn",on:{click:function(o){return t.handleReset("formCustom")}}},[t._v(" 修改密码 ")])],1),o("FormItem",{staticClass:"forget"},[o("span",{on:{click:t.gotoRegister}},[t._v("注册")]),o("span",{staticClass:"register",on:{click:t.gotoLogin}},[t._v("登录")])])],1)],1)},a=[],s=r(2900),n={name:"ForgetPassword",data(){const t=(t,o,r)=>{const e=/^.{6,}$/;""===o?r(new Error("密码不能为空")):e.test(o)?r():r(new Error("请输入6位以上的密码"))},o=(t,o,r)=>{""===o?r(new Error("请再次输入密码")):o!==this.formData.password?r(new Error("两次密码不一样")):r()};return{formData:{account:"",verificationCode:"",password:"",confirmPassword:""},rule:{account:[{required:!0,message:"账号不能为空",trigger:"blur"}],verificationCode:[{required:!0,message:"验证码不能为空",trigger:"blur"}],password:[{validator:t,required:!0,trigger:"blur"}],confirmPassword:[{validator:o,required:!0,trigger:"blur"}]},hasSencode:!1,countDown:60}},methods:{getVerificationCode(){if(!this.formData.account)return this.$Message.error("请输入邮箱或手机"),!1;const t={account:this.formData.account};(0,s.Z3)(t).then((t=>{this.hasSencode=!0,this.$Message.success("发送成功"),this.theCountdown()}))},theCountdown(){const t=setInterval((o=>{this.countDown--,0===this.countDown&&(clearInterval(t),this.countDown=60,this.hasSencode=!1)}),1e3)},handleReset(t){this.$refs[t].validate((t=>{if(t){const t={account:this.formData.account,pwd:this.formData.password,repwd:this.formData.confirmPassword,code:this.formData.verificationCode};(0,s.LI)(t).then((t=>{this.$Message.success("修改成功")}))}else this.$Message.warning("请完整输入必填信息")}))},gotoRegister(){this.$router.replace({path:"/register"})},gotoLogin(){this.$router.replace({path:"/login"})}}},i=n,c=r(3736),u=(0,c.Z)(i,e,a,!1,null,"5ca0221a",null),l=u.exports},2900:function(t,o,r){r.d(o,{LI:function(){return i},YD:function(){return s},Z3:function(){return n},x4:function(){return a}});var e=r(6361);function a(t){return(0,e.Z)({url:"/user/login",method:"post",data:t})}function s(t){return(0,e.Z)({url:"/user/reg",method:"post",data:t})}function n(t){return(0,e.Z)({url:"/user/sendCode",method:"post",data:t})}function i(t){return(0,e.Z)({url:"/user/findPassword",method:"post",data:t})}}}]);
//# sourceMappingURL=676.babe28f9.js.map