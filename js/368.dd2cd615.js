"use strict";(self["webpackChunkthe9art"]=self["webpackChunkthe9art"]||[]).push([[368],{3368:function(t,r,e){e.r(r),e.d(r,{default:function(){return d}});var o=function(){var t=this,r=t._self._c;return r("div",{staticClass:"login"},[r("Form",{ref:"formCustom",attrs:{model:t.formData,rules:t.rule,"label-width":140}},[r("FormItem",{attrs:{label:"邮箱",prop:"account"}},[r("Input",{attrs:{type:"text",placeholder:"请输入注册邮箱"},model:{value:t.formData.account,callback:function(r){t.$set(t.formData,"account",r)},expression:"formData.account"}})],1),r("FormItem",{attrs:{label:"密码",prop:"password"}},[r("Input",{attrs:{type:"password"},model:{value:t.formData.password,callback:function(r){t.$set(t.formData,"password",r)},expression:"formData.password"}})],1),r("FormItem",[r("Button",{staticClass:"loginbtn",on:{click:function(r){return t.handleReset("formCustom")}}},[t._v(" 登 录 ")])],1),r("FormItem",{staticClass:"forget"},[r("span",{on:{click:t.gotoForgetPassword}},[t._v("忘记密码？")]),r("span",{staticClass:"register",on:{click:t.gotoRegister}},[t._v("注册")])])],1)],1)},a=[],s=e(2900),n=e(1836),u={name:"Login",data(){const t=(t,r,e)=>{const o=/^((0\d{2,3}-\d{7,8})|(1[3456789]\d{9}))$/,a=/^([.a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((.[a-zA-Z0-9_-]{2,3}){1,2})$/;o.test(r)||a.test(r)?e():e(new Error("请输入正确的邮箱或手机号"))},r=(t,r,e)=>{const o=/^.{6,}$/;o.test(r)?e():e(new Error("请输入6位以上的密码"))};return{formData:{account:"",password:""},rule:{account:[{required:!0,message:"账号不能为空",trigger:"blur"},{validator:t,trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"},{validator:r,trigger:"blur"}]}}},methods:{handleReset(t){this.$refs[t].validate((t=>{if(t){const t={account:this.formData.account,pwd:this.formData.password};(0,s.x4)(t).then((t=>{this.$Message.success("登录成功"),(0,n.o4)(t.data.token),window.location.href="/Home"}))}else this.$Message.error("登录失败!")}))},gotoForgetPassword(){this.$router.replace({path:"/forgetPassword"})},gotoRegister(){this.$router.replace({path:"/register"})}}},c=u,i=e(3736),l=(0,i.Z)(c,o,a,!1,null,"99d9db90",null),d=l.exports},2900:function(t,r,e){e.d(r,{LI:function(){return u},YD:function(){return s},Z3:function(){return n},x4:function(){return a}});var o=e(6361);function a(t){return(0,o.Z)({url:"/user/login",method:"post",data:t})}function s(t){return(0,o.Z)({url:"/user/reg",method:"post",data:t})}function n(t){return(0,o.Z)({url:"/user/sendCode",method:"post",data:t})}function u(t){return(0,o.Z)({url:"/user/findPassword",method:"post",data:t})}}}]);
//# sourceMappingURL=368.dd2cd615.js.map